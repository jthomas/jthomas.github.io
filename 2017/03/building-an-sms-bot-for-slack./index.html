<!DOCTYPE html>
<html lang="en">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.74.3" />

    
    
    

<title>Building an SMS Bot for Slack. • notes on software.</title>
<meta name="description" content="James Thomas&#39; blog about software. Posts about serverless, cloud platforms, openwhisk, node.js and more...">
<meta name="keywords" content="blog,serverless,openwhisk,ibm,nodejs,tensorflow,serverless framework,open-source,conferences,developer advocacy,github">
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Building an SMS Bot for Slack."/>
<meta name="twitter:description" content="Building an SMS notification bot for Slack using OpenWhisk and Twilio."/>

<meta property="og:title" content="Building an SMS Bot for Slack." />
<meta property="og:description" content="Building an SMS notification bot for Slack using OpenWhisk and Twilio." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jamesthom.as/2017/03/building-an-sms-bot-for-slack./" />
<meta property="article:published_time" content="2017-03-20T00:00:00+00:00" />
<meta property="article:modified_time" content="2017-03-20T00:00:00+00:00" />


    






<link rel="stylesheet" href="/scss/hyde-hyde.3081c4981fb69a2783dd36ecfdd0e6ba7a158d4cbfdd290ebce8f78ba0469fc6.css" integrity="sha256-MIHEmB&#43;2mieD3Tbs/dDmunoVjUy/3SkOvOj3i6BGn8Y=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
    <style type="text/css">
.content {
  max-width: 48rem;
}

.sidebar .container {
  padding-right: 0rem;
  padding-left: 0rem;
}

h1 {
  margin-top: 0;
}
</style>

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://jamesthom.as/">notes on software.</a>
      </span>
      
        
        
        
        <div class="author-image">
          <img src="https://jamesthom.as/profile_new.png" alt="Author Image" class="img--circle img--headshot element--center">
        </div>
        
      
      
      <p class="site__description">
         by james thomas serverless aficionado. 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">notes on software.</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/about/">
						<span>About</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/posts/">
						<span>Posts</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/thomasj" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	
	<a href="https://github.com/jthomas" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	<a href="https://stackoverflow.com/users/1427084" rel="me"><i class="fab fa-stack-overflow fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://medium.com/@jamesthom.as" rel="me"><i class="fab fa-medium fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
        
	<a href="https://www.youtube.com/user/jthomasuk" rel="me"><i class="fab fa-youtube fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="mailto:blog@jamesthom.as" rel="me"><i class="fas fa-at fa-lg" aria-hidden="true"></i></a>
	
</section>

      </div>
    </div>
    


  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>Building an SMS Bot for Slack.</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Mar 20, 2017
    
    
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/openwhisk">openwhisk</a>
           
      
          <a class="badge badge-tag" href="/tags/serverless">serverless</a>
           
      
          <a class="badge badge-tag" href="/tags/bots">bots</a>
          
      
    
    
    <br/>
    
    <i class="fas fa-clock"></i> 11 min read
    
</div>


  </header>
  
  
  <div class="post">
    <p>This is <a href="https://github.com/ibmets/smsbot">smsbot</a>.</p>
<p><img src="/images/smsbot/slack_text_hidden.jpg" alt=""></p>
<p>It provides an integration with Slack that connects SMS messages into channels. People can text an external number and have their messages posted into the channel. Channel users can respond to the messages and have their response sent back to the sender using SMS.</p>
<blockquote>
<p>smsbot was developed in under a few hours and less than one hundred lines of code using a serverless cloud platform.</p>
</blockquote>
<p>Want to understand how it works? Let&rsquo;s find out…</p>
<p>The first challenge was how to programmatically send and receive SMS messages.</p>
<p><em><strong>Want to deploy smsbot yourself? Follow the <a href="#Deployment">instructions</a> at the bottom or check out the <a href="https://github.com/ibmets/smsbot">Github repository</a>.</strong></em></p>
<h2 id="twilio">Twilio</h2>
<p><img src="http://www.timothylutts.com/wp-content/uploads/2016/09/twilio.jpg" alt=""></p>
<p><a href="https://twilio.com">Twilio</a> provides a platform for building SMS, voice and messaging applications using an API.</p>
<p>Developers can <a href="https://www.twilio.com/console/phone-numbers">register phone numbers</a> through the service that invoke webhooks for incoming calls and SMS messages. Webhooks are passed message details and return a custom markup language (TwilML) to encode the instructions on how to respond to the request.</p>
<p>The platform also provides a REST API to <a href="https://www.twilio.com/sms/api">initiate phone calls and SMS messages</a>.</p>
<p><em>We now have a way to handle text messages for our bot, how do we integrate a new bot in Slack?</em></p>
<h2 id="slack">Slack</h2>
<p><img src="http://stratejos.ai/img/logos/slack-logo.png" alt=""></p>
<p><a href="https://slack.com">Slack</a> also provides a webhook-based mechanism to integrate custom bots into the platform. The platform has two different integrations…</p>
<h3 id="incoming-webhooks">Incoming Webhooks.</h3>
<p>Provide a way to post messages into Slack from external sources. It provides a custom URL that supports HTTP requests with a JSON payload. These requests are turned into channel messages. The JSON payload is used to control the content and formatting of the message.</p>
<p><a href="https://api.slack.com/incoming-webhooks">https://api.slack.com/incoming-webhooks</a></p>
<h3 id="outgoing-webhooks">Outgoing Webhooks</h3>
<p>Allow you to listen for messages in channels without using the full real-time API. Slack sends HTTP requests to registered URLs when specific trigger words appear in channel messages. The HTTP request body contains the message details.</p>
<p><a href="https://api.slack.com/outgoing-webhooks">https://api.slack.com/outgoing-webhooks</a></p>
<p><em>Now we just need a way to write simple HTTP services to listen for webhook requests…</em></p>
<h2 id="openwhisk">OpenWhisk</h2>
<p><img src="http://openwhisk.org/images/apache-openwhisk.jpg" alt=""></p>
<p><a href="http://openwhisk.org">OpenWhisk</a> is an open-source serverless cloud platform. <a href="https://martinfowler.com/articles/serverless.html">Serverless platforms</a> make it easy to create microservices in the cloud without having to set up or manage any infrastructure.</p>
<p>Developers push their code directly into the platform. The platform will instantiate the runtime and invoke the code on-demand for each request. Serverless functions can be <a href="https://github.com/openwhisk/openwhisk/blob/master/docs/apigateway.md">exposed as HTTP endpoints</a> or connected to <a href="https://github.com/openwhisk/openwhisk/blob/master/docs/catalog.md">event sources</a> like <a href="https://github.com/openwhisk/openwhisk-package-kafka/blob/master/README.md">message queues</a> or <a href="https://github.com/openwhisk/openwhisk-package-cloudant/blob/master/README.md">databases</a>.</p>
<p>Serverless platforms make it easy to create simple HTTP services to handle webhook requests.</p>
<h3 id="web-actions">Web Actions</h3>
<p><a href="https://medium.com/openwhisk/serverless-http-handlers-with-openwhisk-90a986cc7cdd#.rki6bwjgu">Web Actions</a> are a new feature in OpenWhisk for exposing serverless functions as simple HTTP endpoints. Functions have access to the full HTTP request and can control the HTTP response returned. This method is suitable for simple public endpoints that do not need more enterprise features supported by the <a href="https://github.com/openwhisk/openwhisk/blob/master/docs/apigateway.md">API gateway</a>.</p>
<p>Web Actions are available at the following <a href="https://github.com/openwhisk/openwhisk/blob/master/docs/webactions.md">platform API path</a>.</p>
<pre><code>https://{APIHOST}/api/v1/experimental/web/{USER_NAMESPACE}/{PACKAGE}/{ACTION_NAME}.{TYPE}
</code></pre><ul>
<li><em>APIHOST</em> - platform endpoint e.g. <em>openwhisk.ng.bluemix.net.</em></li>
<li><em>USER_NAMESPACE</em> - must be explicit and cannot use the default namespace (_).</li>
<li><em>PACKAGE</em> - action package or <code>default</code>.</li>
<li><em>ACTION_NAME</em> - function identifier.</li>
<li><em>TYPE</em> - <code>.json</code>, <code>.html</code>, <code>.text</code> or <code>.http</code>.</li>
</ul>
<h3 id="example">Example</h3>
<p>Here&rsquo;s a simple Web Actions that returns HTML content when invoked through the API.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">main</span>(<span style="color:#a6e22e">args</span>) {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">msg</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;you didn&amp;#39;t tell me who you are.&#34;</span>
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">args</span>.<span style="color:#a6e22e">name</span>) {
        <span style="color:#a6e22e">msg</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`hello </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">args</span>.<span style="color:#a6e22e">name</span><span style="color:#e6db74">}</span><span style="color:#e6db74">!`</span>
    }
    <span style="color:#66d9ef">return</span> {<span style="color:#a6e22e">body</span><span style="color:#f92672">:</span>
       <span style="color:#e6db74">`&lt;html&gt;&lt;body&gt;&lt;h3&gt;&lt;center&gt;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">msg</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&lt;/center&gt;&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;`</span>}
}
</code></pre></div><p>Actions can be turned into web-accessible actions by setting a custom annotation.</p>
<pre><code>$ wsk action create greeting source.js --annotation web-export true
</code></pre><p>The <code>greeting</code> function can then be invoked through a HTTP request to the following endpoint.</p>
<p><code>https://openwhisk.ng.bluemix.net/api/v1/experimental/web/user@host.com_dev/default/greeting.http?name=James</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ http post https://openwhisk.ng.bluemix.net/api/v1/experimental/web/user@host.com_dev/default/html_greeting.http?name<span style="color:#f92672">=</span>James
HTTP/1.1 <span style="color:#ae81ff">200</span> OK
...

&lt;html&gt;&lt;body&gt;&lt;h3&gt;&lt;center&gt;hello James!&lt;/center&gt;&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre></div><h2 id="twilio--slack">Twilio &lt;=&gt; Slack</h2>
<p>OpenWhisk Web Actions are a great solution for creating webhook endpoints. Connecting Twilio to Slack (and vice-versa) can be implemented using two different OpenWhisk Web Actions.</p>
<ul>
<li><strong>Twilio Webhook.</strong> Invoked for SMS messages. Uses the Slack Incoming Webhook to create a bot messages from content.
​</li>
<li><strong>Slack Outgoing Webhook.</strong> Invoked for channel replies. Uses Twilio API to send replies as SMS messages.</li>
</ul>
<p>Let&rsquo;s have a look at the Twilio webhook first…</p>
<h3 id="twilio-webhook">Twilio Webhook</h3>
<p>When a new SMS message is received, we want to post this bot message into our Slack channel.</p>
<p>Twilio allows developers to <a href="https://www.twilio.com/docs/api/twiml/sms/twilio_request">configure webhooks</a> for each registered phone number. The webhook endpoint will be invoked for each SMS message that is received. Twilio can either send a HTTP POST request, with parameters in the body, or a HTTP GET request, with URL query parameters.</p>
<p>OpenWhisk Web Actions support both formats. Request parameters will be available as <a href="https://github.com/openwhisk/openwhisk/blob/master/docs/webactions.md#http-context">properties on the function argument</a>.</p>
<p>Here&rsquo;s a simple Web Action that would log the message sender and content for each SMS received.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">main</span> (<span style="color:#a6e22e">params</span>) {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">`Text message from </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">From</span><span style="color:#e6db74">}</span><span style="color:#e6db74">: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">Body</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
}
</code></pre></div><h4 id="creating-bot-messages-from-sms">Creating Bot Messages From SMS</h4>
<p>When an SMS message is received, we need to send a HTTP POST to the <a href="https://api.slack.com/incoming-webhooks">Incoming Webhook URL</a>. The JSON body of the HTTP request is used to configure the channel message. Using the <code>username</code>, <code>icon_emoji</code> and and <code>text</code> properties allows us to customise our bot message.</p>
<p>OpenWhisk Actions in Node.js have <a href="https://github.com/openwhisk/openwhisk/blob/master/docs/reference.md#javascript-runtime-environments">numerous popular NPM modules</a> pre-installed in the environment. This includes a <a href="https://github.com/request/request">HTTP client library</a>. This code snippet demonstrates sending the HTTP request to create out bot message. The Slack Webhook URL is bound as a <a href="https://github.com/openwhisk/openwhisk/blob/master/docs/actions.md#setting-default-parameters">default parameter</a> to the action.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">request</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;request&#39;</span>)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">slack_message</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">text</span> =&gt; ({
  <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;smsbot&#39;</span>,
  <span style="color:#a6e22e">icon_emoji</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;:phone:&#39;</span>,
  <span style="color:#a6e22e">text</span>
})

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">main</span> (<span style="color:#a6e22e">params</span>) {  
  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Promise(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">resolve</span>, <span style="color:#a6e22e">reject</span>) {
    <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">post</span>({
      <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">slack_message</span>(<span style="color:#e6db74">`Text message from </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">From</span><span style="color:#e6db74">}</span><span style="color:#e6db74">: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">Body</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>),
      <span style="color:#a6e22e">json</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
      <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">slack</span>.<span style="color:#a6e22e">webhook</span>
    }, <span style="color:#a6e22e">err</span> =&gt; {
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">err</span>) <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">reject</span>(<span style="color:#a6e22e">err</span>);
      <span style="color:#a6e22e">resolve</span>();
    })
  })
}
</code></pre></div><p>Returning a Promise ensures the request is completed before the function exits.</p>
<h4 id="sending-acknowledgement-message">Sending Acknowledgement Message</h4>
<p>Returning <a href="https://www.twilio.com/docs/api/twiml">TwilML</a> content allows us to control the response from Twilio to the incoming message.</p>
<p>This snippet would send an SMS reply to sender with the content &ldquo;Hello World!&rdquo;.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style="color:#f92672">&lt;Response&gt;</span>
  <span style="color:#f92672">&lt;Message&gt;</span>Hello World!<span style="color:#f92672">&lt;/Message&gt;</span>
<span style="color:#f92672">&lt;/Response&gt;</span>
</code></pre></div><p><a href="https://www.npmjs.com/package/twilio">Twilio&rsquo;s client library</a> for Node.js can be used to programatically generate TwilML.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">twilio</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;twilio&#39;</span>)
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">resp</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">twilio</span>.<span style="color:#a6e22e">TwimlResponse</span>()
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">twilml</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">message</span>(<span style="color:#e6db74">&#39;Thanks for letting us know.&#39;</span>).<span style="color:#a6e22e">toString</span>()
</code></pre></div><p>Returning XML content as the HTTP response requires us to set the response headers, body and status code in the Web Action.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">main</span> () {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">xml</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;...&#39;</span>
  <span style="color:#66d9ef">return</span> {
    <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {
      <span style="color:#e6db74">&#39;Content-Type&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;text/xml&#39;</span>
    },
    <span style="color:#a6e22e">code</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">200</span>,
    <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">xml</span>
  }
}
</code></pre></div><h4 id="web-action-source">Web Action Source</h4>
<p>Adding the XML response code into the existing function completes the OpenWhisk Web Action required to handle incoming SMS messages.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">request</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;request&#39;</span>)
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">twilio</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;twilio&#39;</span>)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">resp</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">twilio</span>.<span style="color:#a6e22e">TwimlResponse</span>()
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">twilml</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">message</span>(<span style="color:#e6db74">&#39;Thanks for letting us know.&#39;</span>).<span style="color:#a6e22e">toString</span>()

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {
    <span style="color:#e6db74">&#39;Content-Type&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;text/xml&#39;</span>
  },
  <span style="color:#a6e22e">code</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">200</span>,
  <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">twilml</span>
}

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">slack_message</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">text</span> =&gt; ({
  <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;smsbot&#39;</span>,
  <span style="color:#a6e22e">icon_emoji</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;:phone:&#39;</span>,
  <span style="color:#a6e22e">text</span>
})

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">main</span> (<span style="color:#a6e22e">params</span>) {  
  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Promise(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">resolve</span>, <span style="color:#a6e22e">reject</span>) {
    <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">post</span>({
      <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">slack_message</span>(<span style="color:#e6db74">`Text message from </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">From</span><span style="color:#e6db74">}</span><span style="color:#e6db74">: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">Body</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>),
      <span style="color:#a6e22e">json</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
      <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">slack</span>.<span style="color:#a6e22e">webhook</span>
    }, <span style="color:#a6e22e">err</span> =&gt; {
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">err</span>) <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">reject</span>(<span style="color:#a6e22e">err</span>);
      <span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">response</span>);
    })
  })
}
</code></pre></div><h4 id="register-webhook">Register Webhook</h4>
<p>Once we have deployed the Web Action, we can configure the Twilio SMS webhook endpoint to use following URL.</p>
<p><code> https://openwhisk.ng.bluemix.net/api/v1/experimental/web/user@email.com_dev/default/smsbot-dev-incoming.http</code></p>
<p><img src="/images/smsbot/twilio_sms_webhook.png" alt=""></p>
<h3 id="slack-outgoing-webhook">Slack Outgoing Webhook</h3>
<p>When someone sends a channel message to the bot, smsbot should send that content as an SMS message to the last person who sent an SMS to the channel. An <a href="https://api.slack.com/custom-integrations/outgoing-webhooks">Outgoing Webhook</a> will be used to trigger the bot.</p>
<p>Outgoing Webhooks have a configurable trigger word. Channel messages which start with this word are send as HTTP requests to the list of URLs registered for that webhook. We will use <code>smsbot</code> as our trigger word.</p>
<p><img src="/images/smsbot/outgoing_webhook_trigger.png" alt=""></p>
<h4 id="request-parameters">Request Parameters</h4>
<p>Slack sends the following parameters for each channel message.</p>
<pre><code>token=XXXXXXXXXXXXXXXXXX
team_id=T0001
team_domain=example
channel_id=C2147483705
channel_name=test
timestamp=1355517523.000005
user_id=U2147483697
user_name=Steve
text=googlebot: What is the air-speed velocity of an unladen swallow?
trigger_word=googlebot:
</code></pre><p>In OpenWhisk Web Actions, these parameters will be available on the function argument object.</p>
<p>Here&rsquo;s a simple Web Action that would parse and log the message contents when the webhook is fired.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">main</span> (<span style="color:#a6e22e">params</span>) {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">msg</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">text</span>.<span style="color:#a6e22e">slice</span>(<span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">trigger_word</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;channel message:&#39;</span>, <span style="color:#a6e22e">msg</span>)
}
</code></pre></div><p>When this webhook is fired, we need to add code to send an SMS message with the channel message.</p>
<h4 id="sending-sms-messages">Sending SMS Messages</h4>
<p><a href="https://www.twilio.com/docs/api/rest">Twilio&rsquo;s API</a> allows us to programatically <a href="https://www.twilio.com/docs/api/rest/sending-messages">send SMS messages</a> from our registered numbers.</p>
<p>This snippet shows you how to use their <a href="http://npmjs.com/package/twilio">Node.js client library</a> to send sample message.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">twilio</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;twilio&#39;</span>)
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">creds</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">account</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;...&#39;</span>, <span style="color:#a6e22e">auth</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;...&#39;</span> }

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">client</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">twilio</span>(<span style="color:#a6e22e">creds</span>.<span style="color:#a6e22e">account</span>, <span style="color:#a6e22e">creds</span>.<span style="color:#a6e22e">auth</span>)
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">callback</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">err</span>, <span style="color:#a6e22e">message</span>) =&gt; {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">err</span>) <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">err</span>)
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;sent sms message.&#39;</span>)
}

<span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">messages</span>.<span style="color:#a6e22e">create</span>({ <span style="color:#a6e22e">to</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;...&#39;</span>, <span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;...&#39;</span>, <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;hello world&#39;</span> }, <span style="color:#a6e22e">callback</span>)
</code></pre></div><p>The webhook should use this client library to send a message to the last person who send us an incoming message.</p>
<h4 id="reply-to-message-sender">Reply to Message Sender</h4>
<p>How can we determine who was the last person who sent a message to our bot? The Web Action processing the incoming messages is a separate service to the Web Action sending SMS messages.</p>
<p>Rather than setting up a database to share application state, the service can use Twilio&rsquo;s API to retrieve the received message details.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">twilio</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;twilio&#39;</span>)
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">creds</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">account</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;...&#39;</span>, <span style="color:#a6e22e">auth</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;...&#39;</span> }
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">client</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">twilio</span>(<span style="color:#a6e22e">creds</span>.<span style="color:#a6e22e">account</span>, <span style="color:#a6e22e">creds</span>.<span style="color:#a6e22e">auth</span>)

<span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">messages</span>.<span style="color:#a6e22e">list</span>({<span style="color:#a6e22e">to</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;+44....&#39;</span>}, (<span style="color:#a6e22e">err</span>, <span style="color:#a6e22e">data</span>) =&gt; {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">last</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">messages</span>[<span style="color:#ae81ff">0</span>]
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">`last message from: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">last</span>.<span style="color:#a6e22e">from</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
})
</code></pre></div><h4 id="smsbot-channel-response">SMSBot Channel Response</h4>
<p><a href="https://api.slack.com/custom-integrations/outgoing-webhooks">Outgoing Webhooks</a> which respond with a JSON body will generate a new channel message.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;username&#34;</span>: <span style="color:#e6db74">&#34;smsbot&#34;</span>,
  <span style="color:#f92672">&#34;icon_emoji&#34;</span>: <span style="color:#e6db74">&#34;:phone:&#34;</span>,
  <span style="color:#f92672">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;sms sent to ...&#34;</span>
}
</code></pre></div><h4 id="web-action-source-1">Web Action Source</h4>
<p>Combing the channel message parsing code with the snippets for sending SMS messages and obtaining the last message sender completes the Web Action needed to handle the Outgoing Webhook.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">twilio</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;twilio&#39;</span>)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">slack_message</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">text</span> =&gt; ({
  <span style="color:#a6e22e">username</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;smsbot&#39;</span>,
  <span style="color:#a6e22e">icon_emoji</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;:phone:&#39;</span>,
  <span style="color:#a6e22e">text</span>
})

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">reply</span> (<span style="color:#a6e22e">params</span>) {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">client</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">twilio</span>(<span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">twilio</span>.<span style="color:#a6e22e">account</span>, <span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">twilio</span>.<span style="color:#a6e22e">auth</span>)
  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Promise((<span style="color:#a6e22e">resolve</span>, <span style="color:#a6e22e">reject</span>) =&gt; {
    <span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">messages</span>.<span style="color:#a6e22e">list</span>({<span style="color:#a6e22e">to</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">twilio</span>.<span style="color:#a6e22e">number</span>}, (<span style="color:#a6e22e">err</span>, <span style="color:#a6e22e">data</span>) =&gt; {
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">err</span>) <span style="color:#66d9ef">return</span> Promise.<span style="color:#a6e22e">reject</span>(<span style="color:#a6e22e">err</span>)

    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">last</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">messages</span>[<span style="color:#ae81ff">0</span>]
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">msg</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">text</span>.<span style="color:#a6e22e">slice</span>(<span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">trigger_word</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">options</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">to</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">last</span>.<span style="color:#a6e22e">from</span>, <span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">last</span>.<span style="color:#a6e22e">to</span>, <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">msg</span> }
    <span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">messages</span>.<span style="color:#a6e22e">create</span>(<span style="color:#a6e22e">options</span>, (<span style="color:#a6e22e">err</span>, <span style="color:#a6e22e">message</span>) =&gt; {
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">err</span>) <span style="color:#66d9ef">return</span> Promise.<span style="color:#a6e22e">reject</span>(<span style="color:#a6e22e">err</span>)
        <span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">slack_message</span>(<span style="color:#e6db74">`sms reply sent to </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">last</span>.<span style="color:#a6e22e">from</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>))
      })
    })
  })
}
</code></pre></div><p>Twilio account credentials are bound as <a href="https://github.com/openwhisk/openwhisk/blob/master/docs/actions.md#setting-default-parameters">default parameters</a> to the Web Action during deployment.</p>
<h2 id="deployment">Deployment</h2>
<p><a href="https://github.com/ibmets/smsbot">smsbot</a> is built using <a href="https://serverless.com/">The Serverless Framework</a>.</p>
<p><img src="https://cloud.githubusercontent.com/assets/20538501/24154626/b86ad64a-0e1f-11e7-8e12-979b8d194430.png" alt=""></p>
<p>This framework makes building serverless applications really easy. The tool handles the entire configuration and deployment process for your serverless provider. OpenWhisk <a href="https://serverless.com/blog/openwhisk-integration-with-serverless/">recently released integration</a> with the framework through a provider plugin.</p>
<p><em><strong>Let&rsquo;s look at how to use the framework to deploy our serverless application…</strong></em></p>
<h3 id="openwhisk-1">OpenWhisk</h3>
<p>Register for an account with an OpenWhisk provider, e.g. <a href="https://console.ng.bluemix.net/">IBM Bluemix</a>.</p>
<p><a href="https://console.ng.bluemix.net/openwhisk/learn/cli">Set up</a> the <code>wsk</code> CLI and run the command to authenticate against the platform endpoint.</p>
<pre><code>wsk property set --apihost openwhisk.ng.bluemix.net --auth SECRET
</code></pre><h3 id="serverless-framework">Serverless Framework</h3>
<p>Install the <a href="https://github.com/serverless/serverless">The Serverless Framework</a> and the <a href="https://github.com/serverless/serverless-openwhisk">OpenWhisk provider plugin</a>.</p>
<pre><code>npm install --global serverless serverless-openwhisk
</code></pre><h3 id="source-code">Source Code</h3>
<p>Download the <a href="https://github.com/jthomas/smsbot">source code</a> from Github and install the project dependencies.</p>
<pre><code>$ git clone https://github.com/ibmets/smsbot.git
$ cd smsbot
$ npm install
</code></pre><p>Create a new file called <code>credentials.yml</code> with the following content.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">twilio</span>:
    <span style="color:#66d9ef">account</span>:
    <span style="color:#66d9ef">auth</span>:
    <span style="color:#66d9ef">number</span>:
<span style="color:#66d9ef">numbers</span>:
<span style="color:#66d9ef">slack</span>:
    <span style="color:#66d9ef">webhook</span>:
</code></pre></div><h3 id="twilio-1">Twilio</h3>
<p>Register an account with Twilio and provision <a href="https://www.twilio.com/console/phone-numbers/search">a new phone number</a>. Make a note of the phone number. Retrieve the account identifier and auth token from the <a href="https://www.twilio.com/console">Twilio console</a>.</p>
<p>Fill in the account identifier, auth token and phone number in the <code>credentials.yml</code> file.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">twilio</span>:
    <span style="color:#66d9ef">account</span>: AC_USER_ID
    <span style="color:#66d9ef">auth</span>: AUTH_TOKEN
    <span style="color:#66d9ef">number</span>: <span style="color:#e6db74">&#39;+441234567890&#39;</span>
</code></pre></div><p><em>Important: the <code>twilio.number</code> property value must be a quoted string.</em></p>
<h3 id="phone-numbers">Phone Numbers</h3>
<p>During Twilio&rsquo;s free trial, you will need <a href="https://support.twilio.com/hc/en-us/articles/223136107-How-does-Twilio-s-Free-Trial-work-">manually verify each phone number</a> that you want to send messages to.</p>
<p>Fill in all verified numbers in <code>credentials.yml</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">numbers</span>:
    <span style="color:#66d9ef">&#39;+441234567890&#39;</span>: Joe Smith
    <span style="color:#66d9ef">&#39;+441234567891&#39;</span>: Jane Smith
</code></pre></div><p><em>Important: the <code>numbers</code> property values must be a quoted strings.</em></p>
<h3 id="incoming-webhook">Incoming Webhook</h3>
<p>Create a new <a href="https://api.slack.com/incoming-webhooks">Incoming Webhook</a> integration for the Slack channel messages should appear in.</p>
<p>Fill in the <code>slack.webhook</code> property in <code>credentials.yml</code> with this url.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">slack</span>:
    <span style="color:#66d9ef">webhook</span>: https://hooks.slack.com/services/XXXX/YYYY/ZZZZ
</code></pre></div><h3 id="deploy-application">Deploy Application</h3>
<p>Use The Serverless Framework to deploy your application.</p>
<pre><code>$ serverless deploy
Serverless: Packaging service...
Serverless: Compiling Functions...
Serverless: Compiling API Gateway definitions...
Serverless: Compiling Rules...
Serverless: Compiling Triggers &amp; Feeds...
Serverless: Deploying Functions...
Serverless: Deployment successful!

Service Information
platform:	openwhisk.ng.bluemix.net
namespace:	_
service:	smsbot

actions:
smsbot-dev-incoming    smsbot-dev-reply

triggers:
**no triggers deployed**

rules:
**no rules deployed**

endpoints:
**no routes deployed**
</code></pre><h3 id="twilio-webhook-1">Twilio Webhook</h3>
<p>On the <a href="https://www.twilio.com/console/phone-numbers/incoming">Phone Numbers</a> page in the Twilio console, configure the &ldquo;<em>Messaging</em>&rdquo; webhook URL.</p>
<p>Use this Web Action URL, replacing <code>user@host.com_dev</code> with your namespace.</p>
<p><code>https://openwhisk.ng.bluemix.net/api/v1/experimental/web/user@host.com_dev/default/smsbot-dev-incoming.http</code></p>
<p><img src="/images/smsbot/twilio_sms_webhook.png" alt=""></p>
<h3 id="outgoing-webhook">Outgoing Webhook</h3>
<p>Create a new <a href="https://api.slack.com/custom-integrations/outgoing-webhooks">Outgoing Webhook</a> integration for the Slack channel messages should appear in. Use <code>smsbot</code> as the <em>Trigger Word</em>.</p>
<p>Use this Web Action URL, replacing <code>user@host.com_dev</code> with your namespace.</p>
<p><code>https://openwhisk.ng.bluemix.net/api/v1/experimental/web/user@host.com_dev/default/smsbot-dev-reply.json</code></p>
<p><img src="/images/smsbot/outgoing_webhook_trigger.png" alt=""></p>
<h3 id="test-it-out">Test it out!</h3>
<p>Send a text message to the phone number you registered through Twilio. smsbot should post the contents into Slack and send an SMS response with the message &ldquo;<em>Thanks for letting us know!</em>&rdquo;.</p>
<p><img src="/images/smsbot/slack_text_hidden.jpg" alt=""></p>
<p>If you send a channel message starting with the trigger word (<em>smsbot</em>), the phone number should receive a new SMS message with the message text.</p>
<p><img src="/images/smsbot/sms_app.png" alt=""></p>
<p>Awesome-sauce 😎.</p>
<h2 id="conclusions">Conclusions</h2>
<p><a href="https://github.com/openwhisk/openwhisk/blob/master/docs/webactions.md">OpenWhisk Web Actions</a> provide a convenient way to expose serverless functions as simple HTTP APIs. This feature is ideal for implementing webhook endpoints.</p>
<p>Both Slack and Twilio provide webhook integration for developers to use their platforms. Using OpenWhisk Web Actions, we can write serverless functions that act as a bridge between these services. With less than a hundred lines of code, we&rsquo;ve created a new slack bot that can connect users to channels using SMS messages.</p>
<p>Pretty cool, huh?! 👏👏👏</p>

  </div>
  

<div class="navigation navigation-single">
    
    <a href="/2017/02/openwhisk-and-the-serverless-framework/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Openwhisk and The Serverless Framework</span>
    </a>
    
    
    <a href="/2017/04/python-packages-in-openwhisk/" class="navigation-next">
      <span class="navigation-tittle">Python Packages in OpenWhisk</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  

  
    


</article>


        </div>
        
    

<script defer src="https://use.fontawesome.com/releases/v5.11.2/js/all.js" integrity="sha384-b3ua1l97aVGAPEIe48b4TC60WUQbQaGi2jqAWM90y0OZXZeyaTCWtBTKtjW2GXG1" crossorigin="anonymous"></script>
<script data-goatcounter="https://jamesthomas.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>




    



    </body>
</html>
